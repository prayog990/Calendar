<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jai Gurudev Calendar 2026 v3.1</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@400;600;700&family=Oswald:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-red: #b71c1c; /* Deeper, more professional red */
            --gold: #d4af37;
            --paper-bg: #fffcf5; /* Parchment like color */
            --grid-border: #d1cfc7;
            --text-black: #1a1a1a;
            --header-bg: #fff8e1;
        }

        * {
            box-sizing: border-box;
            -webkit-print-color-adjust: exact;
        }

        body {
            font-family: 'Noto Sans Devanagari', sans-serif;
            background-color: #2c3e50;
            margin: 0;
            padding: 5px; /* Reduced padding */
            display: flex;
            justify-content: center;
            align-items: flex-start; /* Align to top */
            min-height: 100vh;
            overflow-y: auto; /* Enable scroll if needed */
        }

        .calendar-container {
            width: 100%;
            max-width: 600px;
            min-height: 98vh; /* Use dynamic height */
            background-color: var(--paper-bg);
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            border: 4px double var(--gold);
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            position: relative;
            margin-bottom: 10px;
        }

        /* --- Header Section --- */
        .top-banner {
            background-color: var(--header-bg);
            border-bottom: 2px solid var(--primary-red);
            padding: 8px 10px;
            text-align: center;
            position: relative;
            z-index: 10;
        }

        /* --- Side Panel Styles --- */
        .menu-btn {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            font-size: 1.8rem;
            color: var(--primary-red);
            cursor: pointer;
            z-index: 101;
        }

        .side-panel {
            position: fixed;
            top: 0;
            right: -280px;
            width: 280px;
            height: 100%;
            background: var(--paper-bg); /* Paper texture background */
            background-image: url('https://www.transparenttextures.com/patterns/paper-fibers.png');
            box-shadow: -5px 0 25px rgba(0,0,0,0.3);
            z-index: 1000;
            transition: 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            padding: 25px 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            border-left: 3px double var(--gold);
        }

        .side-panel.open { right: 0; }

        .panel-header {
            font-size: 1.6rem;
            font-weight: 700;
            color: var(--primary-red);
            border-bottom: 3px double var(--gold);
            padding-bottom: 10px;
            margin-bottom: 10px;
            text-align: center;
            font-family: 'Oswald', sans-serif;
        }

        .menu-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px;
            background: white;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 700;
            color: #333;
            border: 1px solid #eee;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            transition: 0.3s;
        }
        .menu-item:active { transform: scale(0.98); background: #fff8e1; }

        /* --- Custom Modal Styles --- */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal-content {
            background-color: var(--paper-bg);
            padding: 25px;
            border: 3px double var(--gold);
            border-radius: 12px;
            width: 100%;
            max-width: 350px;
            text-align: center;
            position: relative;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        .modal-header {
            color: var(--primary-red);
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .modal-body {
            font-size: 0.95rem;
            line-height: 1.6;
            color: #333;
            margin-bottom: 20px;
            text-align: left;
        }

        .modal-btn {
            background: var(--primary-red);
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            font-size: 1rem;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: none;
            z-index: 999;
        }

        .panel-header {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--primary-red);
            border-bottom: 2px solid var(--gold);
            padding-bottom: 10px;
            margin-bottom: 10px;
        }

        .menu-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px;
            background: #f9f9f9;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            color: #333;
            border: 1px solid #eee;
        }

        .lang-toggle {
            display: flex;
            background: #ddd;
            border-radius: 20px;
            overflow: hidden;
        }

        .lang-btn {
            padding: 5px 15px;
            border: none;
            cursor: pointer;
            font-weight: bold;
            font-size: 0.8rem;
        }

        .lang-btn.active {
            background: var(--primary-red);
            color: white;
        }

        .om-symbol {
            font-size: 1rem; /* Smaller */
            color: var(--primary-red);
            font-weight: bold;
            letter-spacing: 2px;
        }

        .guru-title {
            font-size: 1.8rem; /* Scaled down for mobile */
            color: var(--primary-red);
            font-weight: 700;
            margin: -2px 0;
            text-shadow: 1px 1px 0px rgba(0,0,0,0.1);
            font-family: 'Oswald', sans-serif;
        }

        /* --- Month Navigation --- */
        .month-header {
            background: var(--primary-red);
            color: white;
            padding: 8px 15px;
        }
        
        .month-nav-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-btn {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.4);
            color: white;
            cursor: pointer;
            width: 40px;
            height: 40px;
            font-size: 1.2rem;
            border-radius: 50%;
            transition: 0.3s;
        }

        .nav-btn:hover { background: var(--gold); }

        .month-title { text-align: center; }
        .month-title h2 { margin: 0; font-size: 1.6rem; font-family: 'Oswald', sans-serif; }
        .month-title span { font-size: 1rem; color: #ffd54f; font-weight: 600; }

        .header-sub-details {
            display: flex;
            justify-content: space-between;
            font-size: 0.7rem;
            margin-top: 5px;
            padding-top: 5px;
            border-top: 1px solid rgba(255,255,255,0.2);
        }

        /* --- Calendar Grid --- */
        .weekdays {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            background: #f1f1f1;
            border-bottom: 1px solid var(--grid-border);
        }

        .weekday {
            padding: 5px;
            text-align: center;
            font-weight: 700;
            border-right: 1px solid #ddd;
            font-size: 0.75rem;
            color: #555;
        }

        .weekday.sunday { color: var(--primary-red); background: #ffebee; }

        .days-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            flex-grow: 1;
            background-image: radial-gradient(#d1cfc7 0.5px, transparent 0.5px);
            background-size: 20px 20px; /* Subtle dots pattern */
        }

        .day-cell {
            border-right: 1px solid var(--grid-border);
            border-bottom: 1px solid var(--grid-border);
            padding: 4px;
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .day-cell.today {
            background-color: #fff9c4 !important;
            border: 2px solid var(--primary-red);
            z-index: 1;
        }

        .en-date {
            font-family: 'Oswald', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            line-height: 1;
            color: var(--text-black);
            text-align: center;
        }

        .sunday .en-date, .holiday .en-date { color: var(--primary-red); }

        .tithi {
            font-size: 0.65rem;
            text-align: center;
            color: #444;
            font-weight: 600;
            margin-top: 2px;
        }

        .festival-text {
            font-size: 0.6rem;
            color: #d32f2f;
            text-align: center;
            font-weight: bold;
            line-height: 1;
            background: #ffebee;
            border-radius: 2px;
            padding: 1px 0;
            margin-bottom: 2px;
        }

        .paksha-mark {
            position: absolute;
            top: 2px;
            right: 4px;
            font-size: 0.6rem;
            font-weight: bold;
            color: #777;
        }

        /* --- Footer --- */
        .footer-section {
            padding: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: white;
            border-top: 2px solid var(--gold);
        }

        .mini-cal { font-size: 0.45rem; width: 80px; }
        .mini-cal table { width: 100%; border-collapse: collapse; }
        .mini-cal .curr-month-name { font-weight: bold; color: var(--primary-red); display: block; text-align: center; }

        .notes-area {
            flex: 1;
            margin: 0 10px;
            border: 1px dashed var(--gold);
            padding: 5px;
            border-radius: 4px;
        }

        .notes-header { font-size: 0.6rem; font-weight: bold; color: var(--primary-red); text-align: center; margin-bottom: 3px; }
        .note-line { border-bottom: 1px solid #eee; height: 12px; }

        @media (max-width: 480px) {
            .guru-title { font-size: 1.8rem; }
            .en-date { font-size: 1.4rem; }
            .calendar-container { height: 98vh; }
        }
    </style>
</head>
<body>

    <div class="calendar-container">
        
        <!-- Side Panel -->
    <div class="overlay" id="overlay" onclick="toggleMenu()"></div>
    <div class="side-panel" id="sidePanel">
        <div class="panel-header">Settings / ‡§∏‡•á‡§ü‡§ø‡§Ç‡§ó‡•ç‡§∏</div>
        
        <div class="menu-item">
            <span id="lang-label">Language / ‡§≠‡§æ‡§∑‡§æ</span>
            <div class="lang-toggle">
                <button class="lang-btn active" id="btn-hi" onclick="setLanguage('hi')">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</button>
                <button class="lang-btn" id="btn-en" onclick="setLanguage('en')">EN</button>
            </div>
        </div>

        <div class="menu-item" onclick="addBookmark()">
            <span id="install-label">Add to Home Screen</span>
            <span>üì≤</span>
        </div>

        <div class="menu-item" onclick="shareApp()" style="background: #e8f5e9; border-color: #c8e6c9;">
            <span id="share-label">Share App / ‡§∂‡•á‡§Ø‡§∞ ‡§ï‡§∞‡•á‡§Ç</span>
            <span>üì¢</span>
        </div>

        <div style="margin-top: auto; font-size: 0.75rem; color: #888; text-align: center; font-weight: 600;">
            File_name 1.4 | Developed by AJ
        </div>
    </div>

    <div class="calendar-container">
        <div class="top-banner">
            <button class="menu-btn" onclick="toggleMenu()">‚ò∞</button>
            <div class="om-symbol">‡•§‡•§ ‡§ú‡§Ø ‡§ó‡•Å‡§∞‡•Å‡§¶‡•á‡§µ ‡•§‡•§</div>
            <div class="guru-title">JAI GURUDEV</div>
            <div id="sub-title" style="font-size: 0.75rem; color: #555; font-weight: 600; letter-spacing: 1px;">‡§Ü‡§ß‡•ç‡§Ø‡§æ‡§§‡•ç‡§Æ‡§ø‡§ï ‡§¶‡•Ä‡§µ‡§æ‡§∞ ‡§ï‡•à‡§≤‡•á‡§Ç‡§°‡§∞ 2026</div>
        </div>

        <div class="month-header">
            <div class="month-nav-row">
                <button class="nav-btn" onclick="changeMonth(-1)">&#10094;</button>
                <div class="month-title">
                    <h2 id="month-display">JANUARY 2026</h2>
                    <span id="hindi-month-display">‡§™‡•å‡§∑ - ‡§Æ‡§æ‡§ò</span>
                </div>
                <button class="nav-btn" onclick="changeMonth(1)">&#10095;</button>
            </div>

            <div class="header-sub-details">
                <span id="vikram-samvat">‡§µ‡§ø‡§ï‡•ç‡§∞‡§Æ ‡§∏‡§Ç‡§µ‡§§ 2082</span>
                <span>BHUBANESWAR, ODISHA</span>
                <span id="saka-era">‡§∂‡§æ‡§ï‡•á 1947</span>
            </div>
        </div>

        <div class="weekdays">
            <div class="weekday sunday">‡§∞‡§µ‡§ø<br>SUN</div>
            <div class="weekday">‡§∏‡•ã‡§Æ<br>MON</div>
            <div class="weekday">‡§Æ‡§Ç‡§ó‡§≤<br>TUE</div>
            <div class="weekday">‡§¨‡•Å‡§ß<br>WED</div>
            <div class="weekday">‡§ó‡•Å‡§∞‡•Å<br>THU</div>
            <div class="weekday">‡§∂‡•Å‡§ï‡•ç‡§∞<br>FRI</div>
            <div class="weekday">‡§∂‡§®‡§ø<br>SAT</div>
        </div>

        <div class="days-grid" id="calendar-grid"></div>

        <div class="footer-section">
            <div class="mini-cal" id="prev-mini-cal"></div>
            <div class="notes-area">
                <div class="notes-header">‡§µ‡§ø‡§∂‡•á‡§∑ ‡§ü‡§ø‡§™‡•ç‡§™‡§£‡•Ä / ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∞‡§Æ</div>
                <div class="note-line"></div>
                <div class="note-line"></div>
                <div class="note-line"></div>
            </div>
            <div class="mini-cal" id="next-mini-cal"></div>
        </div>
    </div>

<script>
    let currentYear = 2026;
    let currentMonth = 0; 
    let currentLang = 'hi';

    const langData = {
        hi: {
            months: ["JANUARY", "FEBRUARY", "MARCH", "APRIL", "MAY", "JUNE", "JULY", "AUGUST", "SEPTEMBER", "OCTOBER", "NOVEMBER", "DECEMBER"],
            weekdays: ["‡§∞‡§µ‡§ø", "‡§∏‡•ã‡§Æ", "‡§Æ‡§Ç‡§ó‡§≤", "‡§¨‡•Å‡§ß", "‡§ó‡•Å‡§∞‡•Å", "‡§∂‡•Å‡§ï‡•ç‡§∞", "‡§∂‡§®‡§ø"],
            subTitle: "‡§Ü‡§ß‡•ç‡§Ø‡§æ‡§§‡•ç‡§Æ‡§ø‡§ï ‡§¶‡•Ä‡§µ‡§æ‡§∞ ‡§ï‡•à‡§≤‡•á‡§Ç‡§°‡§∞ 2026",
            notes: "‡§µ‡§ø‡§∂‡•á‡§∑ ‡§ü‡§ø‡§™‡•ç‡§™‡§£‡•Ä / ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∞‡§Æ",
            install: "‡§π‡•ã‡§Æ ‡§∏‡•ç‡§ï‡•ç‡§∞‡•Ä‡§® ‡§™‡§∞ ‡§ú‡•ã‡§°‡§º‡•á‡§Ç",
            langLabel: "‡§≠‡§æ‡§∑‡§æ ‡§¨‡§¶‡§≤‡•á‡§Ç",
            location: "‡§≠‡•Å‡§µ‡§®‡•á‡§∂‡•ç‡§µ‡§∞, ‡§ì‡§°‡§ø‡§∂‡§æ"
        },
        en: {
            months: ["JANUARY", "FEBRUARY", "MARCH", "APRIL", "MAY", "JUNE", "JULY", "AUGUST", "SEPTEMBER", "OCTOBER", "NOVEMBER", "DECEMBER"],
            weekdays: ["SUN", "MON", "TUE", "WED", "THU", "FRI", "SAT"],
            subTitle: "Spiritual Wall Calendar 2026",
            notes: "Notes / Special Events",
            install: "Add to Home Screen",
            langLabel: "Change Language",
            location: "BHUBANESWAR, ODISHA"
        }
    };
    const hindiMonths = ["‡§™‡•å‡§∑ - ‡§Æ‡§æ‡§ò", "‡§Æ‡§æ‡§ò - ‡§´‡§æ‡§≤‡•ç‡§ó‡•Å‡§®", "‡§´‡§æ‡§≤‡•ç‡§ó‡•Å‡§® - ‡§ö‡•à‡§§‡•ç‡§∞", "‡§ö‡•à‡§§‡•ç‡§∞ - ‡§µ‡•à‡§∂‡§æ‡§ñ", "‡§µ‡•à‡§∂‡§æ‡§ñ - ‡§ú‡•ç‡§Ø‡•á‡§∑‡•ç‡§†", "‡§ú‡•ç‡§Ø‡•á‡§∑‡•ç‡§† - ‡§Ü‡§∑‡§æ‡§¢‡§º", "‡§Ü‡§∑‡§æ‡§¢‡§º - ‡§∂‡•ç‡§∞‡§æ‡§µ‡§£", "‡§∂‡•ç‡§∞‡§æ‡§µ‡§£ - ‡§≠‡§æ‡§¶‡•ç‡§∞‡§™‡§¶", "‡§≠‡§æ‡§¶‡•ç‡§∞‡§™‡§¶ - ‡§Ü‡§∂‡•ç‡§µ‡§ø‡§®", "‡§Ü‡§∂‡•ç‡§µ‡§ø‡§® - ‡§ï‡§æ‡§∞‡•ç‡§§‡§ø‡§ï", "‡§ï‡§æ‡§∞‡•ç‡§§‡§ø‡§ï - ‡§Æ‡§æ‡§∞‡•ç‡§ó‡§∂‡•Ä‡§∞‡•ç‡§∑", "‡§Æ‡§æ‡§∞‡•ç‡§ó‡§∂‡•Ä‡§∞‡•ç‡§∑ - ‡§™‡•å‡§∑"];
    
    // Exact 2026 Festivals (Major Data)
    const holidays2026 = {
        "0-14": "‡§Æ‡§ï‡§∞ ‡§∏‡§Ç‡§ï‡•ç‡§∞‡§æ‡§Ç‡§§‡§ø",
        "0-26": "‡§ó‡§£‡§§‡§Ç‡§§‡•ç‡§∞ ‡§¶‡§ø‡§µ‡§∏",
        "1-15": "‡§Æ‡§π‡§æ‡§∂‡§ø‡§µ‡§∞‡§æ‡§§‡•ç‡§∞‡§ø",
        "2-4": "‡§π‡•ã‡§≤‡•Ä",
        "2-19": "‡§ó‡•Å‡§°‡§º‡•Ä ‡§™‡§°‡§º‡§µ‡§æ",
        "2-26": "‡§∞‡§æ‡§Æ ‡§®‡§µ‡§Æ‡•Ä",
        "3-14": "‡§Ö‡§Æ‡•ç‡§¨‡•á‡§°‡§ï‡§∞ ‡§ú‡§Ø‡§Ç‡§§‡•Ä",
        "3-19": "‡§Ö‡§ï‡•ç‡§∑‡§Ø ‡§§‡•É‡§§‡•Ä‡§Ø‡§æ",
        "4-1": "‡§Æ‡§à ‡§¶‡§ø‡§µ‡§∏",
        "6-15": "‡§ú‡§ó‡§®‡•ç‡§®‡§æ‡§• ‡§∞‡§• ‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ",
        "7-15": "‡§∏‡•ç‡§µ‡§§‡§Ç‡§§‡•ç‡§∞‡§§‡§æ ‡§¶‡§ø‡§µ‡§∏",
        "7-28": "‡§∞‡§ï‡•ç‡§∑‡§æ‡§¨‡§Ç‡§ß‡§®",
        "8-4": "‡§ú‡§®‡•ç‡§Æ‡§æ‡§∑‡•ç‡§ü‡§Æ‡•Ä",
        "9-2": "‡§ó‡§æ‡§Ç‡§ß‡•Ä ‡§ú‡§Ø‡§Ç‡§§‡•Ä",
        "9-20": "‡§µ‡§ø‡§ú‡§Ø‡§¶‡§∂‡§Æ‡•Ä",
        "10-8": "‡§¶‡•Ä‡§™‡§æ‡§µ‡§≤‡•Ä",
        "10-9": "‡§ó‡•ã‡§µ‡§∞‡•ç‡§ß‡§® ‡§™‡•Ç‡§ú‡§æ",
        "10-10": "‡§≠‡§æ‡§à ‡§¶‡•Ç‡§ú",
        "11-25": "‡§ï‡•ç‡§∞‡§ø‡§∏‡§Æ‡§∏"
    };

    // Precise Tithi Logic for 2026 (Based on Jan 1 2026 = Shukla Dwadashi)
    function getTithi2026(date) {
        const refDate = new Date(2026, 0, 3); // Full Moon (Purnima)
        const diffTime = date - refDate;
        const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
        
        let cyclePos = (diffDays % 29.53059);
        if (cyclePos < 0) cyclePos += 29.53059;

        const tithis = ["‡§Ö‡§Æ‡§æ‡§µ‡§∏‡•ç‡§Ø‡§æ", "‡§™‡•ç‡§∞‡§§‡§ø‡§™‡§¶‡§æ", "‡§¶‡•ç‡§µ‡§ø‡§§‡•Ä‡§Ø‡§æ", "‡§§‡•É‡§§‡•Ä‡§Ø‡§æ", "‡§ö‡§§‡•Å‡§∞‡•ç‡§•‡•Ä", "‡§™‡§Ç‡§ö‡§Æ‡•Ä", "‡§∑‡§∑‡•ç‡§†‡•Ä", "‡§∏‡§™‡•ç‡§§‡§Æ‡•Ä", "‡§Ö‡§∑‡•ç‡§ü‡§Æ‡•Ä", "‡§®‡§µ‡§Æ‡•Ä", "‡§¶‡§∂‡§Æ‡•Ä", "‡§è‡§ï‡§æ‡§¶‡§∂‡•Ä", "‡§¶‡•ç‡§µ‡§æ‡§¶‡§∂‡•Ä", "‡§§‡•ç‡§∞‡§Ø‡•ã‡§¶‡§∂‡•Ä", "‡§ö‡§§‡•Å‡§∞‡•ç‡§¶‡§∂‡•Ä", "‡§™‡•Ç‡§∞‡•ç‡§£‡§ø‡§Æ‡§æ"];
        
        if (cyclePos < 0.8 || cyclePos > 28.8) return { name: "‡§™‡•Ç‡§∞‡•ç‡§£‡§ø‡§Æ‡§æ", paksha: "‡§∂‡•Å‡§ï‡•ç‡§≤" };
        if (cyclePos >= 14.2 && cyclePos <= 15.3) return { name: "‡§Ö‡§Æ‡§æ‡§µ‡§∏‡•ç‡§Ø‡§æ", paksha: "‡§ï‡•É‡§∑‡•ç‡§£" };
        
        if (cyclePos < 14.2) {
            let idx = Math.ceil(cyclePos);
            return { name: tithis[idx] || "‡§§‡•É‡§§‡•Ä‡§Ø‡§æ", paksha: "‡§ï‡•É‡§∑‡•ç‡§£" };
        } else {
            let idx = Math.ceil(cyclePos - 14.8);
            return { name: tithis[idx] || "‡§¶‡•ç‡§µ‡§ø‡§§‡•Ä‡§Ø‡§æ", paksha: "‡§∂‡•Å‡§ï‡•ç‡§≤" };
        }
    }

    function renderCalendar() {
        const grid = document.getElementById('calendar-grid');
        grid.innerHTML = "";
        
        const firstDay = new Date(currentYear, currentMonth, 1).getDay();
        const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();

        document.getElementById('month-display').innerText = `${monthNames[currentMonth]} ${currentYear}`;
        document.getElementById('hindi-month-display').innerText = hindiMonths[currentMonth];
        
        // Samvat Change logic (Chaitra starts in March)
        let vSamvat = (currentMonth < 2) ? "2082" : "2083";
        document.getElementById('vikram-samvat').innerText = `‡§µ‡§ø‡§ï‡•ç‡§∞‡§Æ ‡§∏‡§Ç‡§µ‡§§ ${vSamvat}`;

        for(let i=0; i<firstDay; i++) {
            const cell = document.createElement('div');
            cell.className = 'day-cell empty';
            grid.appendChild(cell);
        }

        const realToday = new Date();

        for(let d=1; d<=daysInMonth; d++) {
            const dateObj = new Date(currentYear, currentMonth, d);
            const dayOfWeek = dateObj.getDay();
            const dateKey = `${currentMonth}-${d}`;
            const tithiObj = getTithi2026(dateObj);
            
            const cell = document.createElement('div');
            cell.className = 'day-cell';
            if(dayOfWeek === 0) cell.classList.add('sunday');

            let fest = holidays2026[dateKey] || "";
            if(tithiObj.name === "‡§è‡§ï‡§æ‡§¶‡§∂‡•Ä") fest = fest ? fest : "‡§è‡§ï‡§æ‡§¶‡§∂‡•Ä";

            if (d === realToday.getDate() && currentMonth === realToday.getMonth() && currentYear === realToday.getFullYear()) {
                cell.classList.add('today');
            }

            cell.innerHTML = `
                <div class="paksha-mark">${tithiObj.paksha.charAt(0)}</div>
                <div class="en-date">${d}</div>
                <div>
                    ${fest ? `<div class="festival-text">${fest}</div>` : ''}
                    <div class="tithi">${tithiObj.name}</div>
                </div>
            `;
            grid.appendChild(cell);
        }

        renderMiniCal(currentMonth - 1, 'prev-mini-cal');
        renderMiniCal(currentMonth + 1, 'next-mini-cal');
    }

    function renderMiniCal(mIndex, elemId) {
        let y = currentYear;
        if(mIndex < 0) { mIndex = 11; y--; }
        if(mIndex > 11) { mIndex = 0; y++; }
        const container = document.getElementById(elemId);
        const fDay = new Date(y, mIndex, 1).getDay();
        const lDay = new Date(y, mIndex + 1, 0).getDate();
        let html = `<span class="curr-month-name">${monthNames[mIndex].substring(0,3)}</span><table><tr>`;
        const days = ['S','M','T','W','T','F','S'];
        days.forEach(d => html += `<th>${d}</th>`);
        html += `</tr><tr>`;
        let cells = 0;
        for(let i=0; i<fDay; i++) { html += `<td></td>`; cells++; }
        for(let d=1; d<=lDay; d++) {
            html += `<td style="${cells%7===0?'color:red':''}">${d}</td>`;
            cells++;
            if(cells%7===0) html += `</tr><tr>`;
        }
        html += `</tr></table>`;
        container.innerHTML = html;
    }

    function toggleMenu() {
        const panel = document.getElementById('sidePanel');
        const overlay = document.getElementById('overlay');
        panel.classList.toggle('open');
        overlay.style.display = panel.classList.contains('open') ? 'block' : 'none';
    }

    function setLanguage(lang) {
        currentLang = lang;
        document.getElementById('btn-hi').classList.toggle('active', lang === 'hi');
        document.getElementById('btn-en').classList.toggle('active', lang === 'en');
        
        // Update Static Text
        document.getElementById('sub-title').innerText = langData[lang].subTitle;
        document.querySelector('.notes-header').innerText = langData[lang].notes;
        document.getElementById('lang-label').innerText = langData[lang].langLabel;
        document.getElementById('install-label').innerText = langData[lang].install;
        document.querySelector('.header-sub-details span:nth-child(2)').innerText = langData[lang].location;

        // Update Weekdays Header
        const weekdayDivs = document.querySelectorAll('.weekday');
        langData[lang].weekdays.forEach((day, i) => {
            const enDay = langData['en'].weekdays[i];
            weekdayDivs[i].innerHTML = lang === 'hi' ? `${day}<br><small>${enDay}</small>` : `${day}`;
        });

        toggleMenu();
        renderCalendar();
    }

    function showModal(title, body) {
        document.getElementById('modalTitle').innerText = title;
        document.getElementById('modalBody').innerHTML = body;
        document.getElementById('customModal').style.display = 'flex';
    }

    function closeModal() {
        document.getElementById('customModal').style.display = 'none';
    }

    function addBookmark() {
        const title = currentLang === 'hi' ? "‡§π‡•ã‡§Æ ‡§∏‡•ç‡§ï‡•ç‡§∞‡•Ä‡§® ‡§™‡§∞ ‡§ú‡•ã‡•ú‡•á‡§Ç" : "Add to Home Screen";
        const body = currentLang === 'hi' 
            ? "1. ‡§¨‡•ç‡§∞‡§æ‡§â‡§ú‡§º‡§∞ ‡§ï‡•á ‡§∏‡§¨‡§∏‡•á ‡§ä‡§™‡§∞ <b>'Three Dots' (‚ãÆ)</b> ‡§Ø‡§æ <b>'Setting'</b> ‡§¨‡§ü‡§® ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç‡•§<br><br>2. ‡§Ø‡§π‡§æ‡§Å <b>'Add to Home Screen'</b> ‡§µ‡§ø‡§ï‡§≤‡•ç‡§™ ‡§ï‡•ã ‡§ö‡•Å‡§®‡•á‡§Ç‡•§"
            : "1. Click on the <b>'Three Dots' (‚ãÆ)</b> or <b>'Setting'</b> button at the top of the browser.<br><br>2. Select the <b>'Add to Home Screen'</b> option here.";
        
        toggleMenu();
        showModal(title, body);
    }

    function shareApp() {
        const siteLink = window.location.href;
        const text = currentLang === 'hi' 
            ? `*Hindi Calendar 2026*\n\n‡§ú‡§Ø ‡§ó‡•Å‡§∞‡•Å‡§¶‡•á‡§µ! ‡§Ø‡§π‡§æ‡§Å ‡§¶‡•á‡§ñ‡•á‡§Ç 2026 ‡§ï‡§æ ‡§Ö‡§∏‡§≤‡•Ä ‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§™‡§Ç‡§ö‡§æ‡§Ç‡§ó ‡§î‡§∞ ‡§§‡•ç‡§Ø‡•å‡§π‡§æ‡§∞‡•§ ‡§á‡§∏‡•á ‡§Ö‡§™‡§®‡•á ‡§´‡•ã‡§® ‡§™‡§∞ ‡§á‡§Ç‡§∏‡•ç‡§ü‡•â‡§≤ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§á‡§∏ ‡§≤‡§ø‡§Ç‡§ï ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç:\n\n${siteLink}`
            : `*Hindi Calendar 2026*\n\nJai Gurudev! Check out the authentic 2026 Hindi Panchang and Festivals here. Click to install it on your phone:\n\n${siteLink}`;
        
        const waUrl = `https://api.whatsapp.com/send?text=${encodeURIComponent(text)}`;
        window.open(waUrl, '_blank');
        toggleMenu();
    }

    renderCalendar();
</script>
<!-- Custom Modal -->
<div id="customModal" class="modal">
    <div class="modal-content">
        <div class="modal-header" id="modalTitle">‡§∏‡•Ç‡§ö‡§®‡§æ / Information</div>
        <div class="modal-body" id="modalBody"></div>
        <button class="modal-btn" onclick="closeModal()">OK</button>
    </div>
</div>
</body>
</html>